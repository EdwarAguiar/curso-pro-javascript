<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scope</title>
</head>

<body>

    <a href="/ejercicios/"> Go back</a>
    <p> <em>Abre la consola</em> </p>
    

    <script> src="https://unpkg.com/jquery@3.3.1/dist/jquery.js" </script>

    <script>
        //global Scope
        var message = "Hello, JavaScript!";

        //var $ = function(message) {
        //    console.log('say: ' + message);
        //}

        // $ es ahora una funcion a la que se le pasa parametro para imprimir mensaje
        // pero al usar la variable "message" no imprime "Hello, JavaScript!"
        // Bueno, xq la variable message en la funcion esta en --> Function Scope

        //Function Scope
        //    function printNumbers() {
        //        for (var i = 0; i < 10; i++) {
        //            setTimeout(function(){
        //                console.log(i);
        //            }, 100);
        //        }
        //    }
            // Ese codigo imprime el Numero 10, 10 veces --> Sucede asi por el Function Scope
            // JavaScript practicamente declara i fuera de la funcion y en el Ciclo For la Funcion SetTimeout no a conocer a "i"
            // i llega a ser 10, cuando eventualmente se ejecuta.

            // Solucion

            //function printNumbers() {
            //    var i;
            //    for (i = 0; i < 10; i++) {
            //        function eventuallyprintNumber(n) {
            //            setTimeout(function(){
            //            console.log(n);
            //        }, 100);
            //        }
            //        eventuallyprintNumber(i);
            //    }
            //}

            //printNumbers();

            // Ahora si se imprimen los valores del 0 al 9
            //  xq cuando pasamos i estamos en un scope nuevo, y en ese scope se recuerda el valor de "n" 
            // que a su vez es i en cada iteracion


        //Block Scope

        function printNumbers2() {
            for (let i = 0; i < 10; i++) {
                setTimeout(function() {
                    console.log(i);
                }, 100);
            }
        }

        printNumbers2();

        // Como "let" opera sobre Block Scope (Bloque)
        // Cada vez que se ejecuta una iteracion del For Loop
        // se crea un block nuevo, y en ese block, nos vamos a recordar del valor

        //Module Scope
        // Module Scope lo que hace es que la vida de una variable, va a estar limitada al archivo donde fue definida
        // al Script que se carga en index.js se le agrego type module
        //  asi <script type="module" src="./assets/index.js"> 




    </script>

</body>
</html>